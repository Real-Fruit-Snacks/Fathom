FAKETIME(1)                                                   General Commands Manual                                                  FAKETIME(1)

NAME
       faketime - manipulate the system time for a given command

SYNOPSIS
       faketime [options] timestamp program [arguments...]

DESCRIPTION
       The given command will be tricked into believing that the current system time is the one specified in the timestamp. Filesystem
       timestamps will also be deceived for the program and its children.

       Actually, faketime is a simple wrapper for libfaketime, which uses the LD_PRELOAD mechanism to load a small library which intercepts
       system calls to functions such as time(2) and fstat(2). This wrapper exposes only a subset of libfaketime's functionality.  Please  refer
       to the README that came with libfaketime for more details and advanced usage options.

OPTIONS
       --help Show usage information and quit.

       --version
              Show version information and quit.

       -m, --multithread
              Use the multi-threading variant of libfaketime.

       -f, --faketime-option
              Use  the  advanced  timestamp  specification  format.  This  allows  you to provide libfaketime options such as speed-up or
              slow-down factors.

       -p, --prog prog...
              Pretend that prog... just ran. Put other options that should  apply  to  prog...  right  before  -p/--prog.  You  can  use
              -p/--prog several times for multiple programs (with potentially varying timestamps).

       -l, --lib lib
              Explicitly load lib as libfaketime library. This can be used to specify a specific version or variant of the library.

       -v, --verbose
              Enable verbose output.

TIMESTAMP FORMAT
       The  simple  timestamp  format  used  by  default  applies  the  /bin/date -d command to parse user-friendly specifications such as
       'last friday'. When using the faketime option -f, the timestamp specified on the command line is directly passed to libfaketime, which
       enables a couple of additional features such as speeding the clock up or slowing it down for the target program.  It  is  also  possible
       to  add an initialization file ~/.faketimerc to specify global defaults.

       Some examples for the simple timestamp format:

       'last Friday 5 pm'
              Set the faked time to last Friday at 5 PM.

       '2008-12-24 08:15:42'
              Set the faked time to the given date and time.

       '2025-12-25'
              Set the faked time to the given date, keeping the current time of day.

       '+2 days'
              Set the faked time to two days in the future.

       '-4 hours'
              Set the faked time to four hours in the past.

       Some examples for the advanced timestamp format:

       '+2,5y x10,0'
              Set the faked  time  2.5  years  into  the  future  and  make  the  time  pass  10  times  as  fast.

       '+2,5y x0,50'
              Set the faked time 2.5 years into the future and make the time pass by 50% slower.

       '+2,5y i2,0'
              Set the faked time 2.5 years into the future and increment time  by  two  seconds  for  each  time()  call,  ie  time  will
              jump  two  seconds  each  time  the  program requests the current time. This is useful for testing programs with expiring
              sessions or timeouts.

       '@2008-12-24 08:15:42'
              Set the faked time to the given date and time. The leading @ is required when using the -f option.

       '2008-12-24 08:15:42 x5,0'
              Set the faked time to the given date and time, and make the time pass 5 times faster.

       '% x0,0'
              Make time stop. The 'x' format supports  values  between  -1.0  and  1.0,  where  negative  values  make  time  go  backwards.
              Setting exactly 0.0 makes time stop.

ADVANCED FEATURES
       When using the faketime option -f, the timestamp format accepts several modifiers:

       @      Absolute timestamp specification. The timestamp following @ specifies the absolute time to fake.

       +/-    Relative timestamp specification. The timestamp following + or - is relative to the current actual time.

       %      Start-at  specification. The timestamp following % specifies a starting time but allows the clock to continue from there.

       x      Speed specification. x followed by a factor modifies the speed of the clock.

       i      Step specification. i followed by a number of seconds specifies how much time advances with each time() call.

       s      System time specification. s saves the current real system time.

       l      Load time specification. l loads a  previously  saved  time.

ENVIRONMENT VARIABLES
       FAKETIME
              If set, and if the -f option was not given, it is parsed for the timestamp to fake. The format  is  the  same  as  for  the
              command line.

       DONT_FAKE_MONOTONIC
              If  set  to  a  non-zero  value,  monotonic clocks will not be faked. This may be required to avoid hanging of certain
              programs.

       FAKETIME_NO_CACHE
              If set to a non-zero value, disables the caching of the fake time. This may be required for programs  that  rapidly  query
              the system time.

       FAKETIME_CACHE_DURATION
              Sets  the  cache  duration  in milliseconds (default is 1000). Only effective when caching is not disabled.

       FAKETIME_DONT_FAKE_MONOTONIC
              If set to a non-zero value, the fake time is not advanced when the CLOCK_MONOTONIC clock is queried.

       FAKETIME_TIMESTAMP_FILE
              If set, points to a file that contains the  timestamp  to  use.  The  file  content  is  read  every  time  the  faked  time
              is  requested,  allowing  external  control  of the fake time.

EXAMPLES
       faketime 'last Friday 5 pm' /bin/date
              Print the date from last Friday at 5 PM.

       faketime '2008-12-24 08:15:42' /bin/date
              Print the given date and time.

       faketime -f '+2,5y x10,0' /bin/bash -c 'date; while true; do echo $SECONDS ; sleep 1 ; done'
              Show how time advances 10 times faster than normal.

       faketime -f '+2,5y x0,50' /bin/bash -c 'date; while true; do echo $SECONDS ; sleep 1 ; done'
              Show how time advances 50% slower than normal.

       faketime -f '@2008-12-24 08:15:42 x5,0' /bin/date
              Set a specific date and time with 5x speedup.

       faketime -m '2008-12-24 08:15:42' make
              Compile a program with the given timestamp.

LIMITATIONS
       - 64-bit  programs  on  64-bit  systems  can  use  both  32-bit and 64-bit versions of the time-related system calls, and 32-bit
         programs on 64-bit systems may use the 64-bit version of these calls. libfaketime tries to intercept all versions of these  system
         calls  on the target platform, but depending on the operating system, only one of these versions may end up being used by the target
         program.

       - For some programs, parts of their output or functionality do not use the  system  functions  that  have  been  intercepted  by
         libfaketime, but rather use time from another system. For example, the GNU "date" command supports a command-line option "-r" which
         uses the last modification timestamp of the file whose name is given as an argument.

       - faketime might not work properly with programs that  are  statically  linked  or  that  use  other  methods  to  determine  time.

       - faketime doesn't work on applications that check  whether  they  are  being  traced  in  some  way  and  alter  their  behavior  in
         response.

FILES
       ~/.faketimerc
              Optional file for global faketime preferences.

       /usr/lib/faketime/libfaketime.so.1
              Default location of the libfaketime library.

BUGS
       Due to limitations of the LD_PRELOAD mechanism, faketime will not work with suidroot and statically linked programs.  While  statically
       linked  programs  can  be  tricked  into  using  faked  time by using the date -s command as root, the suidroot problem cannot be
       circumvented easily.

       Report bugs to https://github.com/wolfcw/libfaketime

AUTHORS
       Wolfgang Hommel <wolf@code-wizards.com> (libfaketime)

       This manual page was initially written by Matthias Urlichs <smurf@debian.org> and modified by Wolfgang Hommel.

SEE ALSO
       ld.so(8), time(2), fstat(2)

                                                                                                                                      FAKETIME(1)